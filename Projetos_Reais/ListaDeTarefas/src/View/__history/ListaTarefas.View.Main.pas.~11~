unit ListaTarefas.View.Main;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.Buttons, Vcl.StdCtrls;

type
  TFrm_Principal = class(TForm)
    Pnl_Principal: TPanel;
    Pnl_TopoTitulo: TPanel;
    Pnl_BaixoBandeja: TPanel;
    Pnl_Pesquisa: TPanel;
    Pnl_CentralLista: TPanel;
    ListBox1: TListBox;
    Edt_Pesquisa: TEdit;
    SBtn_Pesquisar: TSpeedButton;
    SBtn_Cadastrar: TSpeedButton;
    SBtn_Editar: TSpeedButton;
    SBtn_Cancelar: TSpeedButton;
    PnlBtnNovoCadastrar: TPanel;
    PnlBtnEditar: TPanel;
    PnlBtnCancelar: TPanel;
    PnlBtnPesquisar: TPanel;
    procedure FormCreate(Sender: TObject);

  private
    function ValidaUsuario(aEmail, aSenha: String): Boolean;

  public
    { Public declarations }
  end;

var
  Frm_Principal: TFrm_Principal;

implementation

uses
  ListaTarefas.View.Login, ListaTarefas.Model.Usuarios;

{$R *.dfm}



procedure TFrm_Principal.FormCreate(Sender: TObject);
Var
  lLogin : TFrmLogin;
begin
  lLogin := TFrmLogin.Create(nil);
    Try
      lLogin.Show;
      if Not ValidaUsuario(lLogin.Edt_Email.Text, lLogin.Edt_Senha.Text) then
      Begin
        Showmessage('Usuário ou Senha incorretos');
        Application.Terminate;
      End;

    Finally
      lLogin.Free;
    End;
end;

function TFrm_Principal.ValidaUsuario(aEmail, aSenha: String): Boolean;
var
  lUsuario : TUsuario;
begin
  lUsuario := TUsuario.Create;
    try
      lUsuario.Email := 'Email@Email.com';
      lUsuario.Senha := '123';

      Result := ((lUsuario.Email = aEmail) and (lUsuario.Senha = aSenha));
    finally
      lUsuario.Free;
    end;
end;

end.
